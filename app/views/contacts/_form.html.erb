
<%= form_for @contact do |f| %>

    <% if @contact.errors.any? %>
        <div id="error_explanation">
            <h2>
            <%= pluralize(@contact.errors.count, "error") %>
            prohibited this contact from being saved:
            </h2>
        
            <ul>
            <% @contact.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
            <% end %>
            </ul>
        </div>
    <% end %>
   
    <%= f.hidden_field :user_id, value: current_user.id %>

    <h3>Contact:</h3>

    <%= f.label :name %>
    <%= f.text_field :name %><br><br>

    <%= f.label :photo %>
    <%= f.text_field :photo %><br><br>              

    <%= f.label :contact_type %>
    <%= f.text_field :contact_type %><br><br>
    
    <%= f.label :relationship %>
    <%= f.text_field :relationship %><br><br>

    <%= f.label :home_phone %>
    <%= f.text_field :home_phone %><br><br>

    <%= f.label :cell_phone %>
    <%= f.text_field :cell_phone %><br><br>

    <%= f.label :work_phone %>
    <%= f.text_field :work_phone %><br><br>

    <%= f.label :personal_email %>
    <%= f.text_field :personal_email %><br><br>

    <%= f.label :work_email %>
    <%= f.text_field :work_email %><br><br>

    <%= f.label :home_address %>
    <%= f.text_field :home_address %><br><br>

    <%= f.label :work_address %>
    <%= f.text_field :work_address %><br><br>

    <%= f.label :contact_notes %>
    <%= f.text_area :contact_notes %><br><br>

    <%= f.fields_for :clients do |client| %>

        <h3>Client:</h3>

        <%= client.label :company_name %>
        <%= client.text_field :company_name %><br><br>

        <%= client.label :photo %>
        <%= client.text_field :photo %><br><br>

        <%= client.label :company_address %>
        <%= client.text_field :company_address %><br><br>
        
        <%= client.label :company_contact %>
        <%= client.text_field :company_contact %><br><br>

        <%= client.label :contact_position %>
        <%= client.text_field :contact_position %><br><br>

        <%= client.label :contact_work_phone %>
        <%= client.text_field :contact_work_phone %><br><br>

        <%= client.label :contact_cell_phone %>
        <%= client.text_field :contact_cell_phone %><br><br>

        <%= client.label :contact_email %>
        <%= client.text_field :contact_email %><br><br>

        <%= client.label :company_notes %>
        <%= client.text_area :company_notes %><br><br>

        <%= client.label :contact_notes %>
        <%= client.text_area :contact_notes %><br><br>

        <%= client.label :last_meeting %>
        <%= client.datetime_select :last_meeting, {:ampm => true} %><br><br>

        <%= client.label :last_meeting_notes %>
        <%= client.text_area :last_meeting_notes %><br><br>

    <% end %>

    <%= f.submit 'Submit' %>

<% end %>